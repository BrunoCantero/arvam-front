(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[26],{622:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var t=r(38),a=r(15),c=r(159),o=r(1),s=r.n(o),i=r(621),l=function(e){var n=e.name,r=e.text,o=Object(c.a)(e,["name","text"]),s=n?"https://coreui.io/react/docs/components/".concat(n):e.href;return Object(a.jsx)("div",{className:"card-header-actions",children:Object(a.jsx)(i.bb,Object(t.a)(Object(t.a)({},o),{},{href:s,rel:"noreferrer noopener",target:"_blank",className:"card-header-action",children:Object(a.jsx)("small",{className:"text-muted",children:r||"docs"})}))})},u=s.a.memo(l)},629:function(e,n,r){"use strict";n.a={server:"https://cors-anywhere.herokuapp.com/http://ec2-3-16-129-81.us-east-2.compute.amazonaws.com:1337"}},635:function(e,n,r){"use strict";var t=r(15),a=(r(620),r(621));n.a=function(e){var n=e.children,r=e.visible,c=e.modalToggle,o=e.title,s=e.onSubmit,i=e.isEditing;return Object(t.jsx)(t.Fragment,{children:Object(t.jsxs)(a.eb,{show:r,onClose:c,children:[Object(t.jsx)(a.hb,{closeButton:!0,children:o}),Object(t.jsx)(a.fb,{children:n}),Object(t.jsxs)(a.gb,{children:[i?null:Object(t.jsx)(a.f,{onClick:s,color:"primary",children:"Guardar"}),Object(t.jsx)(a.f,{color:"secondary",onClick:c,children:"Cancel"})]})]})})}},636:function(e,n,r){"use strict";var t=r(15),a=r(621);n.a=function(e){var n=e.children,r=e.visible,c=e.modalToggle,o=e.title,s=e.onSubmit;return Object(t.jsxs)(a.eb,{show:r,onClose:c,color:"warning",children:[Object(t.jsx)(a.hb,{closeButton:!0,children:Object(t.jsx)(a.ib,{children:o})}),Object(t.jsx)(a.fb,{children:n}),Object(t.jsxs)(a.gb,{children:[Object(t.jsx)(a.f,{color:"warning",onClick:s,children:"Eliminar"}),Object(t.jsx)(a.f,{color:"secondary",onClick:c,children:"Cancelar"})]})]})}},719:function(e,n,r){"use strict";r.r(n);var t=r(15),a=r(161),c=r(38),o=r(627),s=r.n(o),i=r(628),l=r(623),u=r(1),d=(r(620),r(621)),b=(r(622),r(635)),m=r(636),p=r(631),j=r.n(p),h=r(629),f=function(){var e=Object(i.a)(s.a.mark((function e(){var n,r,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("apitoken");case 2:return n=e.sent,r={headers:{"Access-Control-Allow-Origin":"*",Accept:"*/*",host:"arbam-test.herokuapp.com","Content-Type":"application/x-www-form-urlencoded",Authorization:n}},e.prev=4,e.next=7,j.a.get(h.a.server+"/api/admin",r);case 7:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(s.a.mark((function e(n){var r,t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("apitoken");case 2:return r=e.sent,t={headers:{"Access-Control-Allow-Origin":"*",Accept:"*/*",host:"arbam-test.herokuapp.com","Content-Type":"application/x-www-form-urlencoded",Authorization:r}},e.prev=4,e.next=7,j.a.post(h.a.server+"/api/admin",n,t);case 7:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(s.a.mark((function e(n){var r,t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("apitoken");case 2:return r=e.sent,t={headers:{"Access-Control-Allow-Origin":"*",Accept:"*/*",host:"arbam-test.herokuapp.com","Content-Type":"application/x-www-form-urlencoded",Authorization:r}},e.prev=4,e.next=7,j.a.delete(h.a.server+"/api/admin/"+n,t);case 7:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(n){return e.apply(this,arguments)}}(),v=[{key:"name",value:"nombre",sorter:!0},"email","phone_number","actions"],g={name:"Nombre",email:"Email",phone_number:"T\xe9lefono",actions:"Acciones"};n.default=function(e){var n=e.history,r=Object(u.useState)(!1),o=Object(l.a)(r,2),p=o[0],j=o[1],h=Object(u.useState)(!1),w=Object(l.a)(h,2),k=w[0],C=w[1],_=Object(u.useState)(!1),y=Object(l.a)(_,2),S=y[0],A=y[1],F=Object(u.useState)(!1),E=Object(l.a)(F,2),N=E[0],K=E[1],T=Object(u.useState)(null),Q=Object(l.a)(T,2),U=Q[0],z=Q[1],B=Object(u.useState)([]),I=Object(l.a)(B,2),D=I[0],q=I[1],J=Object(u.useState)(null),P=Object(l.a)(J,2),G=P[0],H=P[1],R=Object(u.useState)({id:"",name:"",email:"",password:"",confirm:"",area_code:"",phone_number:""}),L=Object(l.a)(R,2),M=L[0],V=L[1],W=function(){j(!p),V({name:"",email:"",password:"",confirm:"",area_code:"",phone_number:""}),A(!1)};Object(u.useEffect)((function(){X(),Y()}),[]);var X=function(){var e=Object(i.a)(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("apitoken");case 2:null!==(r=e.sent)&&void 0!==r||n.push("/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,f();case 4:return n=e.sent,e.next=7,q(n.data.reverse());case 7:if(!(n.data.length>0)){e.next=10;break}return e.next=10,H(!1);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Z=function(e){C(!k),z(e)},$=function(){var e=Object(i.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n,"si entra al delete"),e.prev=1,null===n){e.next=5;break}return e.next=5,O(n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return C(!k),e.next=13,Y();case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(i.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData,""!==M.name&&""!==M.email&&""!==M.password&&""!==M.confirm&&""!==M.area_code&&""!==M.phone_number){e.next=5;break}K(!0),e.next=25;break;case 5:return n.append("name",M.name),n.append("email",M.email),n.append("password",M.password),n.append("confirm",M.confirm),n.append("area_code",M.area_code),n.append("phone_number",M.phone_number),e.prev=11,e.next=14,x(n);case 14:if(!(r=e.sent)){e.next=20;break}return console.log(r.data,"usuario creado"),j(!p),e.next=20,Y();case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){e.preventDefault(),V(Object(c.a)(Object(c.a)({},M),{},Object(a.a)({},e.target.name,e.target.value))),console.log(M)};return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(d.j,{children:[Object(t.jsx)(d.n,{children:Object(t.jsx)(d.f,{color:"primary",onClick:function(){return W()},className:"mr-1",children:"Agregar Usuario"})}),Object(t.jsx)(d.u,{xs:"12",lg:"12",children:Object(t.jsxs)(d.j,{children:[Object(t.jsx)(d.n,{children:"Usuarios"}),Object(t.jsx)(d.k,{children:Object(t.jsx)(d.y,{items:D,fields:v,columnHeaderSlot:g,itemsPerPage:10,columnFilterSlot:v,loading:G,tableFilter:{label:"Buscar",placeholder:"Buscar Usuario"},pagination:!0,striped:!0,responsive:!0,scopedSlots:{actions:function(e){return Object(t.jsxs)("td",{children:[Object(t.jsx)(d.f,{style:{marginRight:10},onClick:function(){return function(e){j(!p),A(!0),K(!1),V(Object(c.a)(Object(c.a)({},M),{},{id:e.id,name:e.name,email:e.email,area_code:e.area_code,phone_number:e.phone_number,password:"",confirm:""}))}(e)},color:"warning",children:"Editar"}),Object(t.jsx)(d.f,{onClick:function(){return Z(e.id)},color:"danger",children:"Eliminar"})]})},phone_number:function(e){return Object(t.jsx)("td",{children:"".concat(e.area_code," ").concat(e.phone_number)})}}})})]})})]}),Object(t.jsx)(b.a,{visible:p,modalToggle:W,isEditing:S,title:"Usuario",onSubmit:function(){return ee()},children:Object(t.jsx)(d.u,{xs:"12",sm:"12",children:Object(t.jsx)(d.j,{children:Object(t.jsxs)(d.k,{children:[Object(t.jsx)(d.ab,{hidden:!0,htmlFor:"id",children:"id"}),Object(t.jsx)(d.Q,{hidden:!0,onChange:function(e){return ne(e)},name:"id",id:"id",value:M.name,placeholder:"id"}),Object(t.jsxs)(d.K,{children:[Object(t.jsx)(d.ab,{htmlFor:"name",children:"Nombre"}),Object(t.jsx)(d.Q,{required:!0,valid:""!==M.name,onChange:function(e){return ne(e)},name:"name",id:"name",value:M.name,placeholder:"Nombre"})]}),Object(t.jsxs)(d.K,{children:[Object(t.jsx)(d.ab,{htmlFor:"email",children:"Email"}),Object(t.jsx)(d.Q,{onChange:function(e){return ne(e)},required:!0,valid:""!==M.email&&M.email.includes("@"),invalid:""!==M.email&&!M.email.includes("@"),type:"email",name:"email",id:"email",value:M.email,placeholder:"Email"})]}),Object(t.jsxs)(d.K,{children:[Object(t.jsx)(d.ab,{htmlFor:"password",children:"Contrase\xf1a"}),Object(t.jsx)(d.Q,{onChange:function(e){return ne(e)},valid:M.password===M.confirm&&""!==M.password&&""!==M.confirm,name:"password",type:"password",id:"password",value:M.password,placeholder:"Contrase\xf1a"})]}),Object(t.jsxs)(d.K,{children:[Object(t.jsx)(d.ab,{htmlFor:"confirm",children:"Confirmar contrase\xf1a"}),Object(t.jsx)(d.Q,{onChange:function(e){return ne(e)},valid:M.password===M.confirm&&""!==M.password&&""!==M.confirm,invalid:M.password!==M.confirm&&""!==M.confirm,name:"confirm",type:"password",id:"confirm",value:M.confirm,placeholder:"Contrase\xf1a"})]}),Object(t.jsxs)(d.K,{row:!0,className:"my-0",children:[Object(t.jsx)(d.u,{xs:"4",children:Object(t.jsxs)(d.K,{children:[Object(t.jsx)(d.ab,{htmlFor:"area_code",children:"Cod. Area"}),Object(t.jsx)(d.Q,{valid:""!==M.area_code,onChange:function(e){return ne(e)},type:"text",name:"area_code",value:M.area_code,placeholder:"cod. area"})]})}),Object(t.jsx)(d.u,{xs:"8",children:Object(t.jsxs)(d.K,{children:[Object(t.jsx)(d.ab,{htmlFor:"phone_number",children:"N\xfamero"}),Object(t.jsx)(d.Q,{valid:""!==M.phone_number,onChange:function(e){return ne(e)},type:"number",name:"phone_number",id:"phone_number",value:M.phone_number,placeholder:"N\xfamero"})]})}),N?Object(t.jsx)(d.u,{children:Object(t.jsx)(d.K,{children:Object(t.jsx)(d.a,{color:"danger",children:"Debes ingresar todos los campos!"})})}):null]})]})})})}),Object(t.jsx)(m.a,{visible:k,onSubmit:function(){return $(U)},modalToggle:function(){return Z(null)},title:"Eliminar Usuario",children:"Estas seguro de eliminar este Usuario?"})]})}}}]);
//# sourceMappingURL=26.2ffc6c38.chunk.js.map