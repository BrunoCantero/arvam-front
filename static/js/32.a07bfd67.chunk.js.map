{"version":3,"sources":["reusable/DocsLink.js","config.js","components/ModalForm/ModalForm.js","components/ModalWarning/ModalWarning.js","services/usersService.js","views/pages/users/Users.js"],"names":["DocsLink","props","name","text","rest","href","className","rel","target","React","memo","api","server","ModalForm","children","visible","modalToggle","title","onSubmit","isEditing","show","onClose","closeButton","onClick","color","ModalWarning","getUsers","a","localStorage","getItem","token","config","headers","axios","get","response","console","log","data","createUser","user","post","deleteUser","id","delete","updateUser","put","fields","key","value","sorter","fields1","email","phone_number","actions","Users","history","useState","visibleForm","setVisibleForm","deleteRow","setDeleteRow","editing","setEditing","error","setError","idForDelete","setIdForDelete","setData","loading","setLoading","password","confirm","area_code","values","setValues","toggle","useEffect","handleLogout","getData","undefined","push","updateUserById","FormData","append","reverse","length","deleteItem","handleDelete","storeUser","handleChange","e","preventDefault","xs","lg","items","columnHeaderSlot","itemsPerPage","columnFilterSlot","tableFilter","label","placeholder","pagination","striped","responsive","scopedSlots","item","style","marginRight","handleEdit","sm","hidden","htmlFor","onChange","required","valid","includes","invalid","type","row","readOnly","disabled"],"mappings":"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","file":"static/js/32.a07bfd67.chunk.js","sourcesContent":["import React from 'react'\nimport { CLink } from '@coreui/react'\n\nconst DocsLink = props => {\n  const {\n    name,\n    text,\n    ...rest\n  } = props\n\n  const href = name ? `https://coreui.io/react/docs/components/${name}` : props.href\n\n  return (\n    <div className=\"card-header-actions\">\n      <CLink \n        {...rest}\n        href={href}\n        rel=\"noreferrer noopener\" \n        target=\"_blank\" \n        className=\"card-header-action\"  \n      >\n        <small className=\"text-muted\">{ text || 'docs' }</small>\n      </CLink>\n    </div>\n  )\n}\n\nexport default React.memo(DocsLink)","let prod = false;\nconst api = {\n    // server: 'https://arbam-test.herokuapp.com'\n    // server: prod ? 'http://8f406a199dd5.ngrok.io/http://ec2-3-16-129-81.us-east-2.compute.amazonaws.com:1337' : 'http://localhost:8080/http://ec2-3-16-129-81.us-east-2.compute.amazonaws.com:1337'\n    server: !prod ? 'http://ec2-3-16-129-81.us-east-2.compute.amazonaws.com:1337' : 'http://localhost:1337',\n};\n\nexport default api;","import classNames from 'classnames'\nimport {\n  CRow,\n  CCol,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CModal,\n  CButton,\n} from '@coreui/react'\n\n\nconst ModalForm = ({children, visible, modalToggle, title, onSubmit, isEditing }) => {\n\n// const [modal, setModal] = useState(false);\n\n// const toggle = ()=>{\n//   setModal(!modal);\n// }\n\nreturn (\n  <>\n    <CModal\n      show={visible}\n      onClose={modalToggle}\n    >\n      <CModalHeader closeButton>{title}</CModalHeader>\n      <CModalBody>\n        {children}\n      </CModalBody>\n      <CModalFooter>\n      { isEditing ? null :  <CButton onClick={onSubmit} color=\"primary\">Guardar</CButton>}\n        <CButton\n          color=\"secondary\"\n          onClick={modalToggle}\n        >Cancel</CButton>\n      </CModalFooter>\n    </CModal>\n  </>\n)\n}\n\nexport default ModalForm","import {\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CModal,\n  CButton,\n  CModalTitle,\n} from '@coreui/react'\n\n\nconst ModalWarning = ({children, visible, modalToggle, title, onSubmit }) => {\n\n// const [modal, setModal] = useState(false);\n\n// const toggle = ()=>{\n//   setModal(!modal);\n// }\n\nreturn (\n    <CModal\n    show={visible}\n    onClose={modalToggle}\n    color=\"warning\"\n    >\n        <CModalHeader closeButton>\n             <CModalTitle>{title}</CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n       {children}\n        </CModalBody>\n    <CModalFooter>\n        <CButton color=\"warning\" onClick={onSubmit}>Eliminar</CButton>\n        <CButton color=\"secondary\" onClick={modalToggle}>Cancelar</CButton>\n    </CModalFooter>\n    </CModal>);\n}\n\nexport default ModalWarning","import axios from 'axios';\nimport api from '../config'\n\n//retrieve data\nexport const getUsers = async () =>  {\n    const token = await localStorage.getItem('apitoken');\n    const config = {\n        headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Accept' : '*/*',\n            'host': 'arbam-test.herokuapp.com',\n            'Content-Type':'application/x-www-form-urlencoded',\n            'Authorization': token,\n        }\n        }\n    try {\n    const response = await axios.get(api.server+'/api/admin',config);\n    console.log(response.data);\n    return response.data;\n    } catch (err) {\n        console.log(err)\n    }\n}\n//create user\nexport const createUser = async (user) =>  {\n    const token = await localStorage.getItem('apitoken');\n    const config = {\n        headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Accept' : '*/*',\n            'host': 'arbam-test.herokuapp.com',\n            'Content-Type':'application/x-www-form-urlencoded',\n            'Authorization': `Bearer ${token}`,\n        }\n        }\n    try {\n    const response = await axios.post(api.server+'/api/admin',user,config);\n    console.log(response.data);\n    return response.data;\n    } catch (err) {\n        console.log(err)\n    }\n}\n//delete user by id\nexport const deleteUser = async (id) =>  {\n    const token = await localStorage.getItem('apitoken');\n    const config = {\n        headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Accept' : '*/*',\n            'host': 'arbam-test.herokuapp.com',\n            'Content-Type':'application/x-www-form-urlencoded',\n            'Authorization': token,\n        }\n        }\n    try {\n    const response = await axios.delete(api.server+'/api/admin/'+id,config);\n    console.log(response.data);\n    return response.data;\n    } catch (err) {\n        console.log(err)\n    }\n}\n//update user by id\nexport const updateUser = async (user,id) =>  {\n    const token = await localStorage.getItem('apitoken');\n    const config = {\n        headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Accept' : '*/*',\n            'host': 'arbam-test.herokuapp.com',\n            'Content-Type':'application/x-www-form-urlencoded',\n            'Authorization': `Bearer ${token}`,\n        }\n        }\n    try {\n    const response = await axios.put(api.server+'/api/admin/'+id,user,config);\n    console.log(response.data);\n    return response.data;\n    } catch (err) {\n        console.log(err)\n    }\n}","import React, { useEffect, useState, createRef } from 'react'\nimport classNames from 'classnames'\nimport {\n  CRow,\n  CCol,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CBadge,\n  CDataTable,\n  CButton,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CAlert,\n  CInputCheckbox,\n  CSelect,\n  CInputFile\n} from '@coreui/react'\nimport { rgbToHex } from '@coreui/utils'\nimport { DocsLink } from 'src/reusable';\nimport ModalForm from '../../../components/ModalForm/ModalForm';\nimport ModalWarning from '../../../components/ModalWarning/ModalWarning';\nimport {\n    getUsers,\n    deleteUser,\n    createUser,\n    updateUser\n} from '../../../services/usersService';\n\n\nconst getBadge = highlight => {\n  switch (highlight) {\n    case true: return 'success'\n    case false: return 'danger'\n    default: return 'primary'\n  }\n}\nconst fields = [{key: 'name', value: 'nombre', sorter: true},'email', 'phone_number', 'actions']\nconst fields1 = { name:'Nombre', email: 'Email', phone_number:'Teléfono', actions: 'Acciones' }\nconst columnsFilter = { name:'Nombre', description: 'Descripcion', financial_knowledge: 'conocimiento Financiero', value: 'valor', highlight: 'Destacado' }\n// const fields2 = ['name']\n\nconst Users = ({history}) => {\n  const [visibleForm, setVisibleForm] = useState(false);\n  const [deleteRow, setDeleteRow] = useState(false);\n  const [editing, setEditing] = useState(false)\n  const [error, setError] = useState(false)\n  const [idForDelete, setIdForDelete] = useState(null);\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(null);\n  const [values, setValues] = useState({\n    id: '',\n    name: '',\n    email: '',\n    password: '',\n    confirm: '',\n    area_code: '+549',\n    phone_number: '',\n    // image: '',\n  });\n  const toggle = ()=>{\n    setVisibleForm(!visibleForm);\n    setValues({\n        name: '',\n        email: '',\n        password: '',\n        confirm: '',\n        area_code: '+549',\n        phone_number: '',\n        // image: '',\n      })\n      setEditing(false);\n      setError(false);\n}\n\n useEffect (() => {\n  handleLogout();\n  getData();\n},[])\n\nconst handleValidate = () => {\n    let fields = values;\n    let errors = {};\n    let formIsValid = true;\n\n}\n\nconst handleLogout = async () => {\n    const token =  await localStorage.getItem('apitoken');\n    if(token===null || token === undefined){\n      history.push('/login');\n    }\n   }\n\n\n\nconst handleEdit = (item) => {\n\n  setVisibleForm(!visibleForm);\n  setEditing(true);\n  setError(false);\n  setValues({...values,\n      id: item.id,\n      name: item.name,\n      email: item.email,\n      area_code: item.area_code,\n      phone_number: item.phone_number,\n      password: '',\n      confirm: '',\n      // image: '',\n    })\n\n}\n\n\n  const updateUserById = async () => {\n    let user = new FormData();\n    if(values.name==='' || values.email==='' || values.area_code==='' || values.phone_number===''){\n      setError(true)\n  }else{\n    user.append('name', values.name);\n    user.append('email', values.email);\n    user.append('area_code', values.area_code);\n    user.append('phone_number', values.phone_number);\n    user.append('image', 'no');\n  if(values.password!=='' && values.confirm!==''){\n    user.append('password', values.password);\n    user.append('confirmation', values.confirm);\n  }\n    if(values.id !== '' && values.name!=='' ){\n          try {\n\n            const response = await updateUser(user, values.id)\n            if(response) {\n                console.log(response.data, 'usuario creado');\n                setVisibleForm(!visibleForm);\n                await getData();\n                setEditing(false);\n            }\n          } catch(err) {\n              console.log(err);\n          }\n      } else {\n          setError(true);\n      }\n    }\n  }\n\n\n const getData = async () => {\n   try {\n    setLoading(true);\n    const response = await getUsers();\n    await setData(response.data.reverse());\n    if(response.data.length > 0) await setLoading(false);\n   } catch(err){\n     console.log(err)\n   }\n }\n const deleteItem = (id) => {\n    setDeleteRow(!deleteRow);\n    setIdForDelete(id)\n}\n\n const handleDelete = async (id) => {\n     console.log(id,'si entra al delete')\n     try {\n    if(id!==null){\n    await deleteUser(id)\n}\n    } catch (err) {\n        console.log(err);\n    }\n    setDeleteRow(!deleteRow);\n    await getData();\n}\n const storeUser = async () => {\n    let user = new FormData();\n    if(values.name==='' || values.email==='' || values.password==='' || values.confirm==='' || values.area_code==='' || values.phone_number===''){\n        setError(true)\n    }else{\n    user.append('name', values.name);\n    user.append('email', values.email);\n    user.append('password', values.password);\n    user.append('confirmation', values.confirm);\n    user.append('area_code', values.area_code);\n    user.append('phone_number', values.phone_number);\n    user.append('image', 'no');\n    try {\n        const response = await createUser(user)\n        if(response) {\n            console.log(response.data, 'usuario creado');\n            setVisibleForm(!visibleForm);\n            await getData();\n        }\n    } catch(err){\n        console.log(err)\n    }\n}\n }\n\n const handleChange = (e) => {\n    e.preventDefault();\n    setValues({...values,\n      [e.target.name] : e.target.value\n    })\n    console.log(values);\n\n  }\n  return (\n    <>\n      <CCard>\n        <CCardHeader>\n          {/* <DocsLink href=\"https://coreui.io/docs/utilities/colors/\"/> */}\n          <CButton\n          color=\"primary\"\n\n      onClick={() => toggle()}\n      className=\"mr-1\"\n    >Agregar Usuario</CButton>\n        </CCardHeader>\n        <CCol xs=\"12\" lg=\"12\">\n          <CCard>\n            <CCardHeader>\n              Usuarios\n            </CCardHeader>\n            <CCardBody>\n            <CDataTable\n              items={data}\n              fields={fields}\n              columnHeaderSlot={fields1}\n              itemsPerPage={10}\n              columnFilterSlot={fields}\n              loading={loading}\n              tableFilter={{label: 'Buscar', placeholder: 'Buscar Usuario'}}\n              pagination\n              striped\n              responsive\n              scopedSlots = {{\n                  'actions':\n              (item) => (\n                <td>\n                  <CButton style={{marginRight: 10}} onClick={() => handleEdit(item)} color=\"warning\">Editar</CButton>\n                  <CButton onClick={() => deleteItem(item.id)} color=\"danger\">Eliminar</CButton>\n                </td>\n              ),\n              'phone_number':\n              (item) => (\n              <td>{`${item.area_code} ${item.phone_number}`}</td>\n              )\n              }\n            }\n            />\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CCard>\n      <ModalForm visible={visibleForm} modalToggle={toggle} title=\"Usuario\" onSubmit={editing ? () => updateUserById() : () => storeUser()} >\n      <CCol xs=\"12\" sm=\"12\">\n          <CCard>\n            <CCardBody>\n                <CLabel hidden htmlFor=\"id\">id</CLabel>\n                <CInput hidden onChange={(e) => handleChange(e)} name=\"id\" id=\"id\" value={values.name} placeholder=\"id\" />\n              <CFormGroup>\n                <CLabel htmlFor=\"name\">Nombre</CLabel>\n                <CInput required valid={values.name!==''} onChange={(e) => handleChange(e)} name=\"name\" id=\"name\" value={values.name} placeholder=\"Nombre\" />\n              </CFormGroup>\n              <CFormGroup>\n                <CLabel htmlFor=\"email\">Email</CLabel>\n                <CInput onChange={(e) => handleChange(e)} required valid={values.email!=='' && values.email.includes('@')} invalid={values.email!=='' && !values.email.includes('@')} type=\"email\" name=\"email\" id=\"email\" value={values.email} placeholder=\"Email\" />\n              </CFormGroup>\n              <CFormGroup>\n                <CLabel htmlFor=\"password\">Contraseña</CLabel>\n                <CInput onChange={(e) => handleChange(e)} valid={values.password === values.confirm && values.password!=='' && values.confirm !==''} name=\"password\" type=\"password\" id=\"password\" value={values.password} placeholder=\"Contraseña\" />\n              </CFormGroup>\n              <CFormGroup>\n                <CLabel htmlFor=\"confirm\">Confirmar contraseña</CLabel>\n                <CInput onChange={(e) => handleChange(e)} valid={values.password === values.confirm && values.password!=='' && values.confirm !==''} invalid={values.password!== values.confirm && values.confirm!==''} name=\"confirm\" type=\"password\" id=\"confirm\" value={values.confirm} placeholder=\"Contraseña\" />\n              </CFormGroup>\n              <CFormGroup row className=\"my-0\">\n                <CCol xs=\"4\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"area_code\">Cod. Area</CLabel>\n                    <CInput valid={values.area_code!==''} onChange={(e) => handleChange(e)}  type=\"text\" name=\"area_code\" value={values.area_code} readOnly disabled placeholder=\"cod. area\" />\n                  </CFormGroup>\n                </CCol>\n                <CCol xs=\"8\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"phone_number\">Número</CLabel>\n                    <CInput valid={values.phone_number!==''}  onChange={(e) => handleChange(e)} type=\"number\" name=\"phone_number\" id=\"phone_number\" value={values.phone_number} placeholder=\"Número\" />\n                  </CFormGroup>\n                </CCol>\n               { error ? <CCol>\n                    <CFormGroup>\n                        <CAlert color=\"danger\">\n                         Debes ingresar todos los campos!\n                        </CAlert>\n                    </CFormGroup>\n                </CCol>: null}\n              </CFormGroup>\n              {/* <CFormGroup row>\n                  <CLabel col md=\"3\" htmlFor=\"image\">Imagen</CLabel>\n                  <CCol xs=\"12\" md=\"9\">\n                    <CInputFile onChange={(e) => handleChange(e)} id=\"image\" name=\"image\"/>\n                  </CCol>\n              </CFormGroup> */}\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </ModalForm>\n      <ModalWarning visible={deleteRow} onSubmit={() => handleDelete(idForDelete)} modalToggle={() => deleteItem(null)} title=\"Eliminar Usuario\">Estas seguro de eliminar este Usuario?</ModalWarning>\n    </>\n  )\n}\n\nexport default Users\n"],"sourceRoot":""}